---
title: "Shifting Borders: Analyzing U.S. Immigration Trends Through the Years"
output: html_document
---



#INTRODUCTION: 

When you think about what makes America, **AMERICA**, certain thoughts come to mind. Most importantly our diverse population. Well, we didn’t all get here by magic. One person or a group of people, a family perhaps, migrated here for a multitude of reasons i.e. fleeing violence, poverty, and ultimately seeking opportunity. We are a nation of immigrants, and have been since our conception. 

Our project centers around this defining feature of American life by exploring immigration trends in the United States, using data collected by U.S. Customs and Border Protection's Office of Field Operations (OFO). Our focus begins in 2004, a pivotal year in the modern immigration landscape.

##Why does our data start in 2004? 

To grasp, the importance of our data we must paint the picture of what was going on in the United States immigration landscape, pre-2004. 

###**PRE-2004 IMMIGRATION LANDSCAPE:**
.
Long story short, the immigration story of America begins with the first settlers from Europe that were mostly fleeing to escape religious persecution. As decades and centuries past the "New Americans" started to find  way to keep certain people out while allowing others to make America home. Thus forming the infancy of what we know as our Immigration Policy. 

One example being the Chinese Exclusion Act of 1882 was past that excluded Chinese laborers from being able to migrate here for fear of that they would "take our jobs". Sounds familiar, doesn't it?

While purposely excluding others, the immigration policy of the United States at the time did favor other rational groups, mostly white, Anglo-Saxon, Protestant (W.A.S.P.) Europeans. 

Fast forward to now, maybe the sentiment of wanting to keep people out is just as American as they come. But over time, mostly after the Immigration and Nationality Act of 1965, the U.S. worked to remove it's racist racially motivated quotas. Official borders were created and America seemed more open to Asylum seekers. 

Things began to change on 9/11/2001. 

Immigration policy became synonymous with National Security. 

The Bush Administration created the Department of Homeland Security in 2002. And border control and enforcement became more aggressive, and militant. 


###**2004, THE TURNING POINT:**
The reason our graph starts in 2004 is because it marks the beginning of a new era in U.S. immigration policy — one defined by heightened national security and data collection following the 9/11 attacks.

By 2004, new post-9/11 policies were fully in effect, reshaping how immigration was tracked, processed, and reported. 

###**POST–2004 IMMIGRATION LANDSCAPE:** 

From 2004 onward, immigration patterns fluctuated in response to political leadership, global conflicts, economic shifts, and humanitarian crises. For instance:

•	In 2015, the U.S. saw a surge in unaccompanied minors and family units from Central America.
•	The COVID-19 pandemic (2020–2021) disrupted migration drastically.
•	In recent years, increased migration from Venezuela, Haiti, and Nicaragua has reshaped the encounter landscape.
2015, Largest #Finish thought from video. 

##ABOUT OUR DATASET:

The dataset we’re analyzing is sourced from the KHSM Encounters (OFO) reports and contains encounter-level data tracked by:

•	Year/Month
•	Citizenship
•	Region
•	Family Status
•	Enforcement vs Administrative Actions
•	Field Office Location

##**Research questions:**

How have total border encounters changed over time (2004–present)?


#Questions that Chat helped with. 
Why does our data start in 2004? 
What happened in 2004?

Which nationalities are most commonly encountered and how have they shifted over time?
Are there regional patterns in encounter trends — and which field offices process the highest volumes?

___
First things first, let's see the data!

After speaking with Dr. Shoemaker we decided to use a spagetti graph to display our data because we learned that is the best way to display and analyse our data. A spagetti graph would allow us to  visualize how border encounters have changed over time across multiple regions simultaneously.


Spaghetti Graph of 2004 - 2014.
```{r}
#Import libraries.

#Load ReadXL to be able to read Excel sheets.
library(readxl) 

#Load dplyr for data manipulation.
library(dplyr) 

#Load Ggplot to display data visualizations.
library(ggplot2) 

```


```{r}

#Define path to Excel file and load annual region data.
annual_region_encounters <- read_excel("KHSM Encounters (OFO) fy25m11.xlsx", sheet = "Annual Region")

print("A glimpsee into the data: ")
glimpse(annual_region_encounters)
print("___________________________")

print("Let's see the column names: ")
colnames(annual_region_encounters)

print("How many regions are there?")
length(unique(annual_region_encounters$Region))


#Pipe the dataframe into the distinct function so that it can pull all the unique regions. 
annual_region_encounters %>%
  distinct(Region)

```
Now we have an idea of what the dataset contains we want to visualize it. The plot of choice will be a spagetti plot because....

```{r}
# Clean and filter for 2004–2025 so that we can get a full picture of all the data. 
#Pipe in the data and rename the columns for future readability. 
spaghetti_annual_region_encounters_pre <- annual_region_encounters %>%
  rename(
    Year = `Fiscal\r\nYear`,
    Region = `Region`, 
    Encounters = `Quantity`
  ) %>%
  filter(Year >= 2004 & Year <= 2025)

length(unique(annual_region_encounters$Region))


top_regions <- spaghetti_annual_region_encounters_pre %>%
  group_by(Region) %>%
  summarise(Total = sum(Encounters)) %>%
  arrange(desc(Total)) 

spaghetti_annual_region_encounters_filtered_pre <- spaghetti_annual_region_encounters_pre %>%
  filter(Region %in% top_regions$Region)


print(spaghetti_annual_region_encounters_filtered_pre)
ggplot(spaghetti_annual_region_encounters_pre, aes(x = Year, y = Encounters, color = Region)) +
  geom_line(size = 1) +
  geom_point(size = 2) +
  labs(
    title = "Spaghetti Plot: Border Encounters by Region (2004–2025)",
    x = "Year",
    y = "Encounters"
  ) +
  theme_minimal() +
  theme(
    legend.position = "right",
    plot.title = element_text(face = "bold", size = 14)
  )
```
What this data is telling us? 

From what we know about the political landscape at the time, 9/11/2001 was the initial dominoe effect that....


Despite all that took place around 2015 we notice a spike in 2015, which is indicative of...

We also notice a sharp decline in 2020-2021, which so happens to coincide with the World Health Organization declaration of the COVID-19 pandemic. 

that decline can be seen in all borders except one, the coastal one. We took to the internet to answer why, while everyone, everyplace in the world seemed to stop, that boarders encounters not only stayed steady but seemed to increase...
From the data there seems to be a spike in the 

Let's take a closer look at 2014-2025. 


```{r}
# Clean and filter for 2004–2025 so that we can get a full picture of all the data. 
#Pipe in the data and rename the columns for future readability. 
spaghetti_annual_region_encounters_pre <- annual_region_encounters %>%
  rename(
    Year = `Fiscal\r\nYear`,
    Region = `Region`, 
    Encounters = `Quantity`
  ) %>%
  filter(Year >= 2014 & Year <= 2025)

length(unique(annual_region_encounters$Region))


top_regions <- spaghetti_annual_region_encounters_pre %>%
  group_by(Region) %>%
  summarise(Total = sum(Encounters)) %>%
  arrange(desc(Total)) %>%
  slice_head(n = 5)

spaghetti_annual_region_encounters_filtered_pre <- spaghetti_annual_region_encounters_pre %>%
  filter(Region %in% top_regions$Region)


print(spaghetti_annual_region_encounters_filtered_pre)
ggplot(spaghetti_annual_region_encounters_pre, aes(x = Year, y = Encounters, color = Region)) +
  geom_line(size = 1) +
  geom_point(size = 2) +
  labs(
    title = "Spaghetti Plot: Border Encounters by Region (2014–2025)",
    x = "Year",
    y = "Encounters"
  ) +
  theme_minimal() +
  theme(
    legend.position = "right",
    plot.title = element_text(face = "bold", size = 14)
  )
```

The next question to answer is: what is driving these stark fluctuations? 

The graphs reflects the policy changes that have taken place administration to administration. 

The most important changes that took place in the context of immigration policy were: 

•	2002: Creation of DHS
•	2004: Post-9/11 enforcement begins
•	2012: DACA introduced
•	2017: Trump’s executive orders
•	2020: Title 42 and COVID-19 emergency rules
•	2023: Changes under Biden (e.g., expanded TPS)


In order to clearly see the affects these policies had on the flunctuations and declines we have created a geom...graph that would  they have on the outco


```{r}
ggplot(filtered_full_data, aes(x = Year, y = Encounters, color = Region)) +
  geom_line(size = 1) +
  geom_point(size = 2) +
  
 
  geom_vline(xintercept = 2004, linetype = "dashed", color = "gray30") +
  geom_vline(xintercept = 2012, linetype = "dashed", color = "gray30") +
  geom_vline(xintercept = 2015, linetype = "dashed", color = "gray30") +
  geom_vline(xintercept = 2020, linetype = "dashed", color = "gray30") +
  geom_vline(xintercept = 2023, linetype = "dashed", color = "gray30") +

  annotate("text", x = 2004, y = max(filtered_full_data$Encounters)*0.95, 
           label = "DHS Begins", angle = 90, vjust = -0.4, size = 3) +
  annotate("text", x = 2012, y = max(filtered_full_data$Encounters)*0.85, 
           label = "DACA", angle = 90, vjust = -0.4, size = 3) +
  annotate("text", x = 2015, y = max(filtered_full_data$Encounters)*0.75, 
           label = "Family Surge", angle = 90, vjust = -0.4, size = 3) +
  annotate("text", x = 2020, y = max(filtered_full_data$Encounters)*0.65, 
           label = "COVID + Title 42", angle = 90, vjust = -0.4, size = 3) +
  annotate("text", x = 2023, y = max(filtered_full_data$Encounters)*0.55, 
           label = "Title 42 Ends", angle = 90, vjust = -0.4, size = 3) +

  labs(
    title = "Border Encounters by Region with Key Immigration Policy Events 
                                     (2004–2025)",
    x = "Year",
    y = "Number of Encounters"
  ) +
  theme_minimal() +
  theme(
    legend.position = "right",
    plot.title = element_text(face = "bold", size = 14)
  )

```
Summary: 

Now that we put all these factors together it is 

Looking at something that seems so... to American 